Repository for the documentation of the platform. The documentation features two portals, aimed at different audiences: `user` and `dev`.

To create a new page (the example refers to the `user` portal, but the process for `dev` is equivalent):

- Write a *.md* file within `user/docs`
- Add it to the `nav` element in `/user/mkdocs.yml`

Commit your changes to the `main` branch and the website will automatically be updated within a couple minutes.

## Test locally

If you wish to test your changes locally before pushing, the quickest way to do so is:

Install MkDocs and mkdocs-material:
```sh
pip install mkdocs
pip install mkdocs-material
```

Remove `custom_dir: ../custom/` from `base.yml` (this file concerns CSS, so things like colours will be different). If not removed, you may receive an error when performing the next step. Make sure not to include this change in your later commit.

Run the following from the `/user` (or `/dev`) directory:
```sh
mkdocs serve
```

You can then view the docs at `localhost:8000`. As the docs on the website are generated by combining multiple portals, you will be missing any portal other than the one you are testing.

## Versioned documentation

Different versions of the documentation may be available at once.

The `current` version of the documentation reflects the most up-to-date state of the `main` branch, and is only updated when new commits to `main` are made. To generate the documentation for a specific version, create and push a new tag (you can do this from any branch):
``` shell
git tag v1
git push origin tag v1
```

A snapshot of the documentation at this point, on the branch you were at, will be available at `/docs/v1`. To update this specific version, you will have to delete the tag (both local and remote), then repeat the above commands.

Keep in mind that the toolbar containing the version drop-down menu is generated alongside the documentation. This means that the portal for a specific version of the docs will not include links to newer versions, unless it was updated after their creation.
